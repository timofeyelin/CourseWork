# –ì–æ—Ä–∏–∑–æ–Ω—Ç –û–Ω–ª–∞–π–Ω

**–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –∂–∏—Ç–µ–ª—è –∏ –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª—è—é—â–µ–π –∫–æ–º–ø–∞–Ω–∏–∏**

–í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –∂–∏—Ç–µ–ª–µ–π –º–Ω–æ–≥–æ–∫–≤–∞—Ä—Ç–∏—Ä–Ω–æ–≥–æ –¥–æ–º–∞ —Å —É–ø—Ä–∞–≤–ª—è—é—â–µ–π –∫–æ–º–ø–∞–Ω–∏–µ–π.  –°–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –¥–ª—è –∂–∏—Ç–µ–ª–µ–π, –ø–∞–Ω–µ–ª—å –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—É—é –ø–∞–Ω–µ–ª—å –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –£–ö.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –î–ª—è –∂–∏—Ç–µ–ª–µ–π
- üè† **–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç** ‚Äî –ø—Ä–æ—Å–º–æ—Ç—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–≤–∞—Ä—Ç–∏—Ä–µ –∏ –¥–æ–º–µ
- üí≥ **–°—á–µ—Ç–∞ –∏ –æ–ø–ª–∞—Ç–∞** ‚Äî –ø—Ä–æ—Å–º–æ—Ç—Ä –Ω–∞—á–∏—Å–ª–µ–Ω–∏–π, –∏—Å—Ç–æ—Ä–∏—è –ø–ª–∞—Ç–µ–∂–µ–π, –æ–Ω–ª–∞–π–Ω-–æ–ø–ª–∞—Ç–∞
- üìä **–ü–æ–∫–∞–∑–∞–Ω–∏—è —Å—á—ë—Ç—á–∏–∫–æ–≤** ‚Äî –ø–µ—Ä–µ–¥–∞—á–∞ –ø–æ–∫–∞–∑–∞–Ω–∏–π –ø—Ä–∏–±–æ—Ä–æ–≤ —É—á—ë—Ç–∞ (–≤–æ–¥–∞, —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å—Ç–≤–æ, –≥–∞–∑)
- üìù **–ó–∞—è–≤–∫–∏** ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∑–∞—è–≤–æ–∫ –≤ –£–ö (—Ä–µ–º–æ–Ω—Ç, –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –∏ –¥—Ä.)
- üìÑ **–î–æ–∫—É–º–µ–Ω—Ç—ã** ‚Äî –¥–æ—Å—Ç—É–ø –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º –∏ —Å–ø—Ä–∞–≤–∫–∞–º
- üîî **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ—Ç –£–ö

### –î–ª—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –£–ö
- üìã **–û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞—è–≤–æ–∫** ‚Äî –ø—Ä–æ—Å–º–æ—Ç—Ä –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Ö–æ–¥—è—â–∏—Ö –∑–∞—è–≤–æ–∫ –æ—Ç –∂–∏—Ç–µ–ª–µ–π
- üì¢ **–û–±—ä—è–≤–ª–µ–Ω–∏—è** ‚Äî –ø—É–±–ª–∏–∫–∞—Ü–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏–π –¥–ª—è –∂–∏—Ç–µ–ª–µ–π

### –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- üë• **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏** ‚Äî CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –∂–∏—Ç–µ–ª—è–º–∏ –∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º–∏
- üè¢ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ–º–∞–º–∏ –∏ –∫–≤–∞—Ä—Ç–∏—Ä–∞–º–∏** ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤
- üìä **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –æ—Ç—á—ë—Ç—ã** ‚Äî –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ –∑–∞—è–≤–∫–∞–º, –ø–ª–∞—Ç–µ–∂–∞–º –∏ –¥—Ä. 
- üè∑Ô∏è **–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∑–∞—è–≤–æ–∫** ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–∏–ø–æ–≤ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –∑–∞—è–≤–æ–∫
- üìú **–ê—É–¥–∏—Ç** ‚Äî –∂—É—Ä–Ω–∞–ª –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π –≤ —Å–∏—Å—Ç–µ–º–µ

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

### Frontend
- **React 19** ‚Äî UI-–±–∏–±–ª–∏–æ—Ç–µ–∫–∞
- **Vite 7** ‚Äî —Å–±–æ—Ä—â–∏–∫
- **Material UI (MUI) 7** ‚Äî –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- **React Router 7** ‚Äî –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è
- **Axios** ‚Äî HTTP-–∫–ª–∏–µ–Ω—Ç
- **Recharts** ‚Äî –≥—Ä–∞—Ñ–∏–∫–∏ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
- **@hello-pangea/dnd** ‚Äî drag-and-drop
- **Day.js / date-fns** ‚Äî —Ä–∞–±–æ—Ç–∞ —Å –¥–∞—Ç–∞–º–∏
- **ESLint** ‚Äî –ª–∏–Ω—Ç–∏–Ω–≥

### Backend
- **.NET 9** (ASP.NET Core Web API)
- **Entity Framework Core 9** ‚Äî ORM
- **PostgreSQL** (Npgsql) ‚Äî –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **JWT Bearer** ‚Äî –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- **FluentValidation** ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **Swagger / Swashbuckle** ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –±—ç–∫–µ–Ω–¥–∞ (Clean Architecture)
- `Backend. Api` ‚Äî –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã, DTO, –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã, —Ñ–æ–Ω–æ–≤—ã–µ —Å–µ—Ä–≤–∏—Å—ã
- `Backend.Application` ‚Äî –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞, —Å–µ—Ä–≤–∏—Å—ã
- `Backend.Domain` ‚Äî –¥–æ–º–µ–Ω–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏
- `Backend.Infrastructure` ‚Äî —Ä–∞–±–æ—Ç–∞ —Å –ë–î, –≤–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
CourseWork/
‚îú‚îÄ‚îÄ Backend/
‚îÇ   ‚îú‚îÄ‚îÄ Backend.Api/              # Web API (–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã, DTO, –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Controllers/          # REST-–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Dtos/                 # Data Transfer Objects
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Validators/           # FluentValidation –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ BackgroundServices/   # –§–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ wwwroot/              # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îú‚îÄ‚îÄ Backend.Application/      # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ Backend. Domain/           # –î–æ–º–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ Backend.Infrastructure/   # –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (EF, —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏)
‚îÇ   ‚îî‚îÄ‚îÄ Backend.sln               # Solution —Ñ–∞–π–ª
‚îÇ
‚îú‚îÄ‚îÄ Frontend/
‚îÇ   ‚îî‚îÄ‚îÄ client/
‚îÇ       ‚îú‚îÄ‚îÄ src/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ api/              # API-–∫–ª–∏–µ–Ω—Ç—ã
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ assets/           # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ—Å—É—Ä—Å—ã
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ components/       # –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ context/          # React Context
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ hooks/            # –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ö—É–∫–∏
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ pages/            # –°—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Admin/        # –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Bills/        # –°—á–µ—Ç–∞
‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Documents/    # –î–æ–∫—É–º–µ–Ω—Ç—ã
‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Home/         # –ì–ª–∞–≤–Ω–∞—è
‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Landing/      # –õ–µ–Ω–¥–∏–Ω–≥
‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Meters/       # –°—á—ë—Ç—á–∏–∫–∏
‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Operator/     # –ü–∞–Ω–µ–ª—å –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞
‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Payments/     # –ü–ª–∞—Ç–µ–∂–∏
‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Profile/      # –ü—Ä–æ—Ñ–∏–ª—å
‚îÇ       ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Requests/     # –ó–∞—è–≤–∫–∏
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ utils/            # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ theme. js          # –¢–µ–º–∞ MUI
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ App.jsx           # –ö–æ—Ä–Ω–µ–≤–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ main.jsx          # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ       ‚îú‚îÄ‚îÄ package.json
‚îÇ       ‚îî‚îÄ‚îÄ vite. config.js
‚îÇ
‚îú‚îÄ‚îÄ . gitignore
‚îî‚îÄ‚îÄ README.md
```

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **Node.js** ‚â• 18
- **npm** (–∏–ª–∏ pnpm/yarn)
- **.NET SDK 9.0**
- **PostgreSQL** ‚â• 14

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone https://github.com/timofeyelin/CourseWork.git
cd CourseWork
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö PostgreSQL –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ —Å—Ç—Ä–æ–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ —Ñ–∞–π–ª–µ `Backend/Backend.Api/appsettings.json`:

```json
{
  "ConnectionStrings": {
    "DefaultConnection":  "Host=localhost;Port=5432;Database=horizon_db;Username=your_user;Password=your_password"
  }
}
```

### 3. –ó–∞–ø—É—Å–∫ Backend

```bash
cd Backend/Backend.Api
dotnet restore
dotnet ef database update   # –ø—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ (–ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏)
dotnet run
```

API –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É:  `http://localhost:5000` (–∏–ª–∏ –ø–æ—Ä—Ç –∏–∑ launchSettings.json)

Swagger UI: `http://localhost:5000/swagger`

### 4. –ó–∞–ø—É—Å–∫ Frontend

```bash
cd Frontend/client
npm install
npm run dev
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:5173`

## üìú –°–∫—Ä–∏–ø—Ç—ã (Frontend)

| –ö–æ–º–∞–Ω–¥–∞          | –û–ø–∏—Å–∞–Ω–∏–µ                              |
|------------------|---------------------------------------|
| `npm run dev`    | –ó–∞–ø—É—Å–∫ dev-—Å–µ—Ä–≤–µ—Ä–∞                    |
| `npm run build`  | Production-—Å–±–æ—Ä–∫–∞                     |
| `npm run preview`| –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä production-—Å–±–æ—Ä–∫–∏        |
| `npm run lint`   | –ó–∞–ø—É—Å–∫ ESLint                         |

---

## üì° API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–í—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (–∫—Ä–æ–º–µ –ø—É–±–ª–∏—á–Ω—ã—Ö) —Ç—Ä–µ–±—É—é—Ç JWT-—Ç–æ–∫–µ–Ω –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ: 
```
Authorization: Bearer <token>
```

### üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (`/api/auth`)

| –ú–µ—Ç–æ–¥ | –≠–Ω–¥–ø–æ–∏–Ω—Ç | –î–æ—Å—Ç—É–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|--------|----------|
| POST | `/api/auth/register` | –ü—É–±–ª–∏—á–Ω—ã–π | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| POST | `/api/auth/login` | –ü—É–±–ª–∏—á–Ω—ã–π | –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (–ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤) |
| POST | `/api/auth/refresh` | –ü—É–±–ª–∏—á–Ω—ã–π | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ access-—Ç–æ–∫–µ–Ω–∞ |

#### POST `/api/auth/register`
–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. 

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "email": "user@example.com",
  "password":  "SecurePass123! ",
  "fullName": "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á",
  "phone": "+79001234567"
}
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "message": "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞",
  "userId": 1
}
```

#### POST `/api/auth/login`
–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. 

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "emailOrPhone": "user@example.com",
  "password":  "SecurePass123!"
}
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "accessToken": "eyJhbGciOiJIUzI1NiIs...",
  "refreshToken": "dGhpcyBpcyBhIHJlZnJlc2..."
}
```

#### POST `/api/auth/refresh`
–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ access-—Ç–æ–∫–µ–Ω–∞.

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "refreshToken": "dGhpcyBpcyBhIHJlZnJlc2..."
}
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "accessToken": "eyJhbGciOiJIUzI1NiIs...",
  "refreshToken": "bmV3IHJlZnJlc2ggdG9rZW4..."
}
```

---

### üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (`/api/user`)

| –ú–µ—Ç–æ–¥ | –≠–Ω–¥–ø–æ–∏–Ω—Ç | –î–æ—Å—Ç—É–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|--------|----------|
| GET | `/api/user/profile` | –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π | –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| PUT | `/api/user/profile` | –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π | –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å |
| GET | `/api/user/accounts` | –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π | –°–ø–∏—Å–æ–∫ –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã—Ö –ª–∏—Ü–µ–≤—ã—Ö —Å—á–µ—Ç–æ–≤ |
| POST | `/api/user/accounts` | –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π | –ü—Ä–∏–≤—è–∑–∞—Ç—å –ª–∏—Ü–µ–≤–æ–π —Å—á—ë—Ç |
| DELETE | `/api/user/accounts/{accountId}` | –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π | –û—Ç–≤—è–∑–∞—Ç—å –ª–∏—Ü–µ–≤–æ–π —Å—á—ë—Ç |

#### GET `/api/user/profile`
**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "id": 1,
  "email": "user@example.com",
  "fullName": "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á",
  "phone":  "+79001234567",
  "role": "Resident",
  "createdAt": "2024-01-15T10:30:00Z"
}
```

#### PUT `/api/user/profile`
**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "fullName": "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤–∏—á",
  "email": "newemail@example. com",
  "phone":  "+79007654321",
  "newPassword": "NewSecurePass456!"
}
```

#### GET `/api/user/accounts`
**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
[
  {
    "id": 1,
    "accountNumber": "1234567890",
    "address": "—É–ª. –õ–µ–Ω–∏–Ω–∞, –¥. 10, –∫–≤. 25",
    "ukName": "–û–û–û '–£–ö –ì–æ—Ä–∏–∑–æ–Ω—Ç'",
    "area": 65. 5
  }
]
```

#### POST `/api/user/accounts`
**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "accountNumber": "1234567890"
}
```

---

### üí≥ –°—á–µ—Ç–∞ (`/api/bills`)

| –ú–µ—Ç–æ–¥ | –≠–Ω–¥–ø–æ–∏–Ω—Ç | –î–æ—Å—Ç—É–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|--------|----------|
| GET | `/api/bills` | –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π | –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å—á–µ—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| GET | `/api/bills/account/{accountId}` | –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π | –°—á–µ—Ç–∞ –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –ª–∏—Ü–µ–≤–æ–º—É —Å—á—ë—Ç—É |
| GET | `/api/bills/{billId}` | –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π | –î–µ—Ç–∞–ª–∏ —Å—á—ë—Ç–∞ |
| GET | `/api/bills/{billId}/pdf` | –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π | –°–∫–∞—á–∞—Ç—å PDF –∫–≤–∏—Ç–∞–Ω—Ü–∏–∏ |

#### GET `/api/bills`
**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
[
  {
    "billId": 1,
    "accountId": 1,
    "period": "2024-12-01T00:00:00Z",
    "totalAmount": 4523.50,
    "status": "Pending"
  }
]
```

#### GET `/api/bills/{billId}`
**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "billId": 1,
  "accountId": 1,
  "accountNumber": "1234567890",
  "address": "—É–ª. –õ–µ–Ω–∏–Ω–∞, –¥. 10, –∫–≤.  25",
  "period": "2024-12-01T00:00:00Z",
  "totalAmount": 4523.50,
  "createdAt": "2024-12-05T08:00:00Z",
  "hasPdf": true,
  "status": "Pending",
  "billItems": [
    {
      "billItemId": 1,
      "serviceName": "–•–æ–ª–æ–¥–Ω–∞—è –≤–æ–¥–∞",
      "amount": 459.00,
      "consumption": 10.0,
      "tariff": 45.90
    },
    {
      "billItemId":  2,
      "serviceName": "–ì–æ—Ä—è—á–∞—è –≤–æ–¥–∞",
      "amount":  480.00,
      "consumption": 8.0,
      "tariff": 60.00
    }
  ]
}
```

---

### üí∞ –ü–ª–∞—Ç–µ–∂–∏ (`/api/payments`)

| –ú–µ—Ç–æ–¥ | –≠–Ω–¥–ø–æ–∏–Ω—Ç | –î–æ—Å—Ç—É–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|--------|----------|
| POST | `/api/payments` | –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π | –°–æ–∑–¥–∞—Ç—å –ø–ª–∞—Ç—ë–∂ –ø–æ —Å—á—ë—Ç—É |
| GET | `/api/payments/mine` | –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π | –ò—Å—Ç–æ—Ä–∏—è –ø–ª–∞—Ç–µ–∂–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| GET | `/api/payments/{paymentId}` | –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π | –î–µ—Ç–∞–ª–∏ –ø–ª–∞—Ç–µ–∂–∞ |
| POST | `/api/payments/{paymentId}/cancel` | –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π | –û—Ç–º–µ–Ω–∏—Ç—å –ø–ª–∞—Ç—ë–∂ |
| GET | `/api/payments/balance` | –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π | –ü–æ–ª—É—á–∏—Ç—å –±–∞–ª–∞–Ω—Å |
| POST | `/api/payments/init` | –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π | –ò–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞—Ç—å –ø–ª–∞—Ç—ë–∂ (—Ç–µ—Å—Ç–æ–≤—ã–π —à–ª—é–∑) |

#### POST `/api/payments`
**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "billId": 1,
  "amount": 4523.50
}
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (201):**
```json
{
  "paymentId": 1,
  "billId": 1,
  "amount": 4523.50,
  "createdAt": "2024-12-25T14:30:00Z",
  "status": "Pending",
  "transactionId": "TXN-123456"
}
```

#### GET `/api/payments/balance? accountId=1`
**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "totalDebt": 9047.00,
  "lastPaymentDate": "2024-11-20T00:00:00Z",
  "lastPaymentAmount": 4200.00
}
```

#### POST `/api/payments/init`
**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "accountId": 1,
  "amount":  5000.00,
  "method": "Card"
}
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "paymentId": 2,
  "testUrl": "https://test-payment-gateway.com/pay? id=2&amount=5000"
}
```

---

### üìä –°—á—ë—Ç—á–∏–∫–∏ (`/api/meters`)

| –ú–µ—Ç–æ–¥ | –≠–Ω–¥–ø–æ–∏–Ω—Ç | –î–æ—Å—Ç—É–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|--------|----------|
| GET | `/api/meters` | –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π | –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å—á—ë—Ç—á–∏–∫–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| GET | `/api/meters/account/{accountId}` | –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π | –°—á—ë—Ç—á–∏–∫–∏ –ø–æ –ª–∏—Ü–µ–≤–æ–º—É —Å—á—ë—Ç—É |
| GET | `/api/meters/{meterId}/readings` | –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π | –ò—Å—Ç–æ—Ä–∏—è –ø–æ–∫–∞–∑–∞–Ω–∏–π —Å—á—ë—Ç—á–∏–∫–∞ |
| GET | `/api/meters/{meterId}/readings/{readingId}` | –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π | –î–µ—Ç–∞–ª–∏ –ø–æ–∫–∞–∑–∞–Ω–∏—è |
| POST | `/api/meters/{meterId}/readings` | –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π | –ü–µ—Ä–µ–¥–∞—Ç—å –ø–æ–∫–∞–∑–∞–Ω–∏–µ |
| PUT | `/api/meters/{meterId}/readings/{readingId}` | –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π | –ò–∑–º–µ–Ω–∏—Ç—å –ø–æ–∫–∞–∑–∞–Ω–∏–µ |

#### GET `/api/meters`
**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
[
  {
    "meterId": 1,
    "accountId": 1,
    "accountNumber": "1234567890",
    "type": "ColdWater",
    "serialNumber": "CW-2024-001",
    "installationDate": "2023-05-15T00:00:00Z"
  },
  {
    "meterId": 2,
    "accountId": 1,
    "accountNumber": "1234567890",
    "type": "Electricity",
    "serialNumber": "EL-2024-042",
    "installationDate": "2023-05-15T00:00:00Z"
  }
]
```

#### POST `/api/meters/{meterId}/readings`
**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "value": 12345.67
}
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "readingId": 1,
  "value": 12345.67,
  "period": "2024-12-25T10:00:00Z",
  "submittedAt": "2024-12-25T10:00:00Z",
  "validated": false
}
```

---

### üìù –ó–∞—è–≤–∫–∏ (`/api/requests`)

| –ú–µ—Ç–æ–¥ | –≠–Ω–¥–ø–æ–∏–Ω—Ç | –î–æ—Å—Ç—É–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|--------|----------|
| GET | `/api/requests` | –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π | –°–ø–∏—Å–æ–∫ –∑–∞—è–≤–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| GET | `/api/requests/{requestId}` | –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π | –î–µ—Ç–∞–ª–∏ –∑–∞—è–≤–∫–∏ |
| POST | `/api/requests` | –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π | –°–æ–∑–¥–∞—Ç—å –∑–∞—è–≤–∫—É |
| PUT | `/api/requests/{requestId}/status` | Admin, Operator | –ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∑–∞—è–≤–∫–∏ |
| POST | `/api/requests/{requestId}/comments` | –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π | –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
| POST | `/api/requests/{requestId}/rate` | –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π | –û—Ü–µ–Ω–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞—è–≤–∫–∏ |
| POST | `/api/requests/{requestId}/attachments` | –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π | –ó–∞–≥—Ä—É–∑–∏—Ç—å –≤–ª–æ–∂–µ–Ω–∏–µ |
| DELETE | `/api/requests/{requestId}/attachments/{attachmentId}` | –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π | –£–¥–∞–ª–∏—Ç—å –≤–ª–æ–∂–µ–Ω–∏–µ |

#### GET `/api/requests`
**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
[
  {
    "requestId": 1,
    "category": "–°–∞–Ω—Ç–µ—Ö–Ω–∏–∫–∞",
    "description": "–ü—Ä–æ—Ç–µ—á–∫–∞ –∫—Ä–∞–Ω–∞ –Ω–∞ –∫—É—Ö–Ω–µ",
    "status": "InProgress",
    "createdAt": "2024-12-20T09:00:00Z",
    "rating": null,
    "priority": 2,
    "deadline": "2024-12-27T00:00:00Z"
  }
]
```

#### POST `/api/requests`
**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "accountId": 1,
  "categoryId": 3,
  "description": "–ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–æ–º–æ—Ñ–æ–Ω, –Ω–µ—Ç –∑–≤—É–∫–∞ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ"
}
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (201):**
```json
{
  "requestId": 2,
  "accountId": 1,
  "category": "–≠–ª–µ–∫—Ç—Ä–∏–∫–∞",
  "description": "–ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–æ–º–æ—Ñ–æ–Ω, –Ω–µ—Ç –∑–≤—É–∫–∞ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ",
  "status": "New",
  "createdAt": "2024-12-25T11:00:00Z",
  "closedAt": null,
  "rating":  null,
  "userCommentOnRating": null,
  "priority": 1,
  "deadline": null,
  "comments": [],
  "attachments": []
}
```

#### POST `/api/requests/{requestId}/comments`
**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "text": "–ú–∞—Å—Ç–µ—Ä –≤—ã–µ–∑–∂–∞–µ—Ç –∑–∞–≤—Ç—Ä–∞ –≤ 10:00"
}
```

#### POST `/api/requests/{requestId}/rate`
**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "rating":  5,
  "comment": "–í—Å—ë –æ—Ç–ª–∏—á–Ω–æ, —Å–ø–∞—Å–∏–±–æ!"
}
```

---

### üì¢ –û–±—ä—è–≤–ª–µ–Ω–∏—è (`/api/announcements`)

| –ú–µ—Ç–æ–¥ | –≠–Ω–¥–ø–æ–∏–Ω—Ç | –î–æ—Å—Ç—É–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|--------|----------|
| GET | `/api/announcements` | –ü—É–±–ª–∏—á–Ω—ã–π | –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –æ–±—ä—è–≤–ª–µ–Ω–∏–π |
| GET | `/api/announcements/unread` | –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π | –ù–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è |
| POST | `/api/announcements/{announcementId}/mark-read` | –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π | –û—Ç–º–µ—Ç–∏—Ç—å –∫–∞–∫ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω–æ–µ |
| POST | `/api/announcements` | Admin, Operator | –°–æ–∑–¥–∞—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ |
| PUT | `/api/announcements/{announcementId}` | Admin, Operator | –û–±–Ω–æ–≤–∏—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ |
| DELETE | `/api/announcements/{announcementId}` | Admin, Operator | –£–¥–∞–ª–∏—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ |

#### GET `/api/announcements? type=Info`
**Query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `type` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): `Info`, `Warning`, `Outage`, `News`

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
[
  {
    "announcementId":  1,
    "title": "–ü–ª–∞–Ω–æ–≤–æ–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –≤–æ–¥—ã",
    "content": "25 –¥–µ–∫–∞–±—Ä—è —Å 10:00 –¥–æ 18:00 –±—É–¥–µ—Ç –æ—Ç–∫–ª—é—á–µ–Ω–∞ —Ö–æ–ª–æ–¥–Ω–∞—è –≤–æ–¥–∞ –≤ —Å–≤—è–∑–∏ —Å —Ä–µ–º–æ–Ω—Ç–Ω—ã–º–∏ —Ä–∞–±–æ—Ç–∞–º–∏.",
    "createdAt": "2024-12-23T08:00:00Z",
    "type": "Outage",
    "isRead": false
  }
]
```

#### POST `/api/announcements`
**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "title":  "–°–æ–±—Ä–∞–Ω–∏–µ –∂–∏–ª—å—Ü–æ–≤",
  "content": "–ü—Ä–∏–≥–ª–∞—à–∞–µ–º –≤—Å–µ—Ö –∂–∏—Ç–µ–ª–µ–π –Ω–∞ –æ–±—â–µ–µ —Å–æ–±—Ä–∞–Ω–∏–µ 28 –¥–µ–∫–∞–±—Ä—è –≤ 19:00",
  "type":  "Info"
}
```

---

### üîî –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (`/api/notifications`)

| –ú–µ—Ç–æ–¥ | –≠–Ω–¥–ø–æ–∏–Ω—Ç | –î–æ—Å—Ç—É–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|--------|----------|
| GET | `/api/notifications` | –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π | –°–ø–∏—Å–æ–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π |
| POST | `/api/notifications/mark-read` | –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π | –û—Ç–º–µ—Ç–∏—Ç—å –≤—Å–µ –∫–∞–∫ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–µ |
| POST | `/api/notifications/{notificationId}/mark-read` | –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π | –û—Ç–º–µ—Ç–∏—Ç—å –æ–¥–Ω–æ –∫–∞–∫ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω–æ–µ |

#### GET `/api/notifications`
**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "unreadCount": 3,
  "urgentUnreadCount": 1,
  "items": [
    {
      "notificationId": 1,
      "type": "Bill",
      "title": "–ù–æ–≤—ã–π —Å—á—ë—Ç",
      "text": "–í—ã—Å—Ç–∞–≤–ª–µ–Ω —Å—á—ë—Ç –∑–∞ –¥–µ–∫–∞–±—Ä—å 2024",
      "createdAt": "2024-12-05T08:00:00Z",
      "isRead": false,
      "relatedEntityId": 5,
      "isUrgent": false
    },
    {
      "notificationId":  2,
      "type": "Outage",
      "title": "–û—Ç–∫–ª—é—á–µ–Ω–∏–µ –≤–æ–¥—ã",
      "text": "–ó–∞–≤—Ç—Ä–∞ –±—É–¥–µ—Ç –æ—Ç–∫–ª—é—á–µ–Ω–∞ —Ö–æ–ª–æ–¥–Ω–∞—è –≤–æ–¥–∞",
      "createdAt": "2024-12-24T10:00:00Z",
      "isRead": false,
      "relatedEntityId": null,
      "isUrgent": true
    }
  ]
}
```

---

### üìÑ –î–æ–∫—É–º–µ–Ω—Ç—ã (`/api/documents`)

| –ú–µ—Ç–æ–¥ | –≠–Ω–¥–ø–æ–∏–Ω—Ç | –î–æ—Å—Ç—É–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|--------|----------|
| GET | `/api/documents` | –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π | –°–ø–∏—Å–æ–∫ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ |
| GET | `/api/documents/{id}/download` | –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π | –°–∫–∞—á–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç |

#### GET `/api/documents? type=receipt`
**Query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `type` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): `receipt`, `contract`

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
[
  {
    "id": 1,
    "title":  "–ö–≤–∏—Ç–∞–Ω—Ü–∏—è –∑–∞ –¥–µ–∫–∞–±—Ä—å 2024",
    "type": "pdf",
    "createdAt": "2024-12-05T00:00:00Z",
    "category": "receipt",
    "size": 153600
  },
  {
    "id": 10001,
    "title": "–î–æ–≥–æ–≤–æ—Ä —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ú–ö–î",
    "type": "pdf",
    "createdAt": "2023-01-15T00:00:00Z",
    "category":  "contract",
    "size": 2560000
  }
]
```

---

### üè∑Ô∏è –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∑–∞—è–≤–æ–∫ (`/api/categories`)

| –ú–µ—Ç–æ–¥ | –≠–Ω–¥–ø–æ–∏–Ω—Ç | –î–æ—Å—Ç—É–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|--------|----------|
| GET | `/api/categories` | –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π | –°–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π |
| POST | `/api/categories` | Admin | –°–æ–∑–¥–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é |
| DELETE | `/api/categories/{id}` | Admin | –£–¥–∞–ª–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é |

#### GET `/api/categories`
**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
[
  { "id": 1, "name": "–°–∞–Ω—Ç–µ—Ö–Ω–∏–∫–∞" },
  { "id": 2, "name": "–≠–ª–µ–∫—Ç—Ä–∏–∫–∞" },
  { "id": 3, "name": "–ë–ª–∞–≥–æ—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ" },
  { "id": 4, "name": "–î—Ä—É–≥–æ–µ" }
]
```

#### POST `/api/categories`
**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "name":  "–õ–∏—Ñ—Ç—ã"
}
```

---

### üë∑ –û–ø–µ—Ä–∞—Ç–æ—Ä ‚Äî –ó–∞—è–≤–∫–∏ (`/api/operator/requests`)

| –ú–µ—Ç–æ–¥ | –≠–Ω–¥–ø–æ–∏–Ω—Ç | –î–æ—Å—Ç—É–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|--------|----------|
| GET | `/api/operator/requests` | Operator | –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∑–∞—è–≤–æ–∫ (—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è) |
| PATCH | `/api/operator/requests/{requestId}` | Operator | –û–±–Ω–æ–≤–∏—Ç—å –∑–∞—è–≤–∫—É (—Å—Ç–∞—Ç—É—Å, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç, –¥–µ–¥–ª–∞–π–Ω) |

#### GET `/api/operator/requests? status=New&categoryId=1&search=–∫—Ä–∞–Ω`
**Query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `status` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): `New`, `InProgress`, `Completed`, `Cancelled`
- `categoryId` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): ID –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- `search` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): –ø–æ–∏—Å–∫ –ø–æ –æ–ø–∏—Å–∞–Ω–∏—é

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
[
  {
    "requestId": 1,
    "description": "–ü—Ä–æ—Ç–µ—á–∫–∞ –∫—Ä–∞–Ω–∞ –Ω–∞ –∫—É—Ö–Ω–µ, –≤–æ–¥–∞ –∫–∞–ø–∞–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ",
    "shortDescription": "–ü—Ä–æ—Ç–µ—á–∫–∞ –∫—Ä–∞–Ω–∞ –Ω–∞ –∫—É—Ö–Ω–µ, –≤–æ–¥–∞ –∫–∞–ø–∞–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ",
    "status": "New",
    "category": "–°–∞–Ω—Ç–µ—Ö–Ω–∏–∫–∞",
    "priority": 1,
    "createdAt": "2024-12-20T09:00:00Z",
    "deadline": null,
    "address": "—É–ª.  –õ–µ–Ω–∏–Ω–∞, –¥. 10, –∫–≤. 25",
    "accountNumber": "1234567890",
    "applicantName": "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á",
    "applicantPhone": "+79001234567"
  }
]
```

#### PATCH `/api/operator/requests/{requestId}`
**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "status": "InProgress",
  "priority":  2,
  "deadline": "2024-12-28T00:00:00Z"
}
```

---

### üîß –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä (`/api/admin`)

| –ú–µ—Ç–æ–¥ | –≠–Ω–¥–ø–æ–∏–Ω—Ç | –î–æ—Å—Ç—É–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|--------|----------|
| POST | `/api/admin/create-account` | Admin | –°–æ–∑–¥–∞—Ç—å –ª–∏—Ü–µ–≤–æ–π —Å—á—ë—Ç |
| POST | `/api/admin/generate-bills-now` | Admin | –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–≤–∏—Ç–∞–Ω—Ü–∏–∏ |
| POST | `/api/admin/add-meter` | Admin | –î–æ–±–∞–≤–∏—Ç—å —Å—á—ë—Ç—á–∏–∫ |
| GET | `/api/admin/analytics` | Admin | –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ |
| GET | `/api/admin/users` | Admin | –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π |
| POST | `/api/admin/users/block` | Admin | –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å/—Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| POST | `/api/admin/users/change-role` | Admin | –ò–∑–º–µ–Ω–∏—Ç—å —Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| POST | `/api/admin/users/link-account` | Admin | –ü—Ä–∏–≤—è–∑–∞—Ç—å –õ–° –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é |
| POST | `/api/admin/users/unlink-account` | Admin | –û—Ç–≤—è–∑–∞—Ç—å –õ–° –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| GET | `/api/admin/audit` | Admin | –ñ—É—Ä–Ω–∞–ª –∞—É–¥–∏—Ç–∞ |
| POST | `/api/admin/import/bills` | Admin | –ò–º–ø–æ—Ä—Ç –∫–≤–∏—Ç–∞–Ω—Ü–∏–π |

#### POST `/api/admin/create-account`
**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "accountNumber": "9876543210",
  "address": "—É–ª. –ü—É—à–∫–∏–Ω–∞, –¥. 5, –∫–≤. 12",
  "area": 72. 3,
  "occupantsCount": 3,
  "houseType": "–ú–Ω–æ–≥–æ–∫–≤–∞—Ä—Ç–∏—Ä–Ω—ã–π",
  "ukName": "–û–û–û '–£–ö –ì–æ—Ä–∏–∑–æ–Ω—Ç'"
}
```

#### POST `/api/admin/generate-bills-now? period=2024-12&force=false`
**Query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `period` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): –ø–µ—Ä–∏–æ–¥ –≤ —Ñ–æ—Ä–º–∞—Ç–µ `yyyy-MM` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äî –ø—Ä–µ–¥—ã–¥—É—â–∏–π –º–µ—Å—è—Ü)
- `force` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): `true` ‚Äî –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–≤–∏—Ç–∞–Ω—Ü–∏–∏

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "message": "–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞",
  "created": 45,
  "skipped": 10,
  "errors": 0,
  "period": "12. 2024"
}
```

#### POST `/api/admin/add-meter? accountNumber=1234567890&type=ColdWater&serialNumber=CW-2024-100`
**Query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `accountNumber`: –Ω–æ–º–µ—Ä –ª–∏—Ü–µ–≤–æ–≥–æ —Å—á—ë—Ç–∞
- `type`: `ColdWater`, `HotWater`, `Electricity`, `Gas`
- `serialNumber`: —Å–µ—Ä–∏–π–Ω—ã–π –Ω–æ–º–µ—Ä —Å—á—ë—Ç—á–∏–∫–∞

#### GET `/api/admin/analytics? from=2024-12-01&to=2024-12-31`
**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "kpi": {
    "totalCharged": 1250000. 00,
    "totalCollected": 980000.00,
    "totalDebt": 270000.00,
    "collectionRate": 78.4
  },
  "incomeChart": [
    { "date": "01.12", "amount": 35000.00 },
    { "date": "02.12", "amount": 42000.00 }
  ],
  "topDebtors": [
    {
      "accountNumber": "1111111111",
      "address": "—É–ª.  –ú–∏—Ä–∞, –¥. 1, –∫–≤. 1",
      "ownerName": "–ü–µ—Ç—Ä–æ–≤ –ü.–ü.",
      "debtAmount": 25000.00
    }
  ]
}
```

#### GET `/api/admin/users? q=–ò–≤–∞–Ω–æ–≤`
**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
[
  {
    "id": 1,
    "fullName": "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á",
    "phone": "+79001234567",
    "role": "Resident",
    "isActive": true,
    "accounts": [
      {
        "id": 1,
        "accountNumber":  "1234567890",
        "address": "—É–ª.  –õ–µ–Ω–∏–Ω–∞, –¥. 10, –∫–≤. 25"
      }
    ]
  }
]
```

#### POST `/api/admin/users/block`
**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "userId": 5,
  "isActive": false
}
```

#### POST `/api/admin/users/change-role`
**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "userId": 5,
  "newRole": "Operator"
}
```
**–†–æ–ª–∏:** `Resident`, `Operator`, `Admin`

#### GET `/api/admin/audit? page=1&pageSize=20&fromDate=2024-12-01&search=login`
**Query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `page`: –Ω–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1)
- `pageSize`: —Ä–∞–∑–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–º–∞–∫—Å. 100)
- `fromDate`, `toDate`: —Ñ–∏–ª—å—Ç—Ä –ø–æ –¥–∞—Ç–µ
- `search`: –ø–æ–∏—Å–∫ –ø–æ –¥–µ–π—Å—Ç–≤–∏—é/–æ–ø–∏—Å–∞–Ω–∏—é

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "data": [
    {
      "id":  1,
      "userId": 1,
      "action": "Login",
      "entityType": "User",
      "entityId": "1",
      "details": "–£—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É",
      "timestamp": "2024-12-25T10:00:00Z"
    }
  ],
  "totalCount": 150,
  "page":  1,
  "pageSize": 20
}
```

#### POST `/api/admin/import/bills`
**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
[
  {
    "accountNumber": "1234567890",
    "period": "2024-12-01",
    "items": [
      {
        "serviceName": "–•–æ–ª–æ–¥–Ω–∞—è –≤–æ–¥–∞",
        "tariff": 45.90,
        "consumption": 10.5
      }
    ]
  }
]
```

---

## üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

–°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **JWT Bearer** —Ç–æ–∫–µ–Ω—ã: 

1.  –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å –Ω–∞ `POST /api/auth/login`
2. –°–µ—Ä–≤–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `accessToken` –∏ `refreshToken`
3. –ö–ª–∏–µ–Ω—Ç –¥–æ–±–∞–≤–ª—è–µ—Ç —Ç–æ–∫–µ–Ω –≤ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –¥–ª—è –≤—Å–µ—Ö –∑–∞—â–∏—â—ë–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤: 
   ```
   Authorization: Bearer <accessToken>
   ```
4. –ü—Ä–∏ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ access-—Ç–æ–∫–µ–Ω–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `POST /api/auth/refresh` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ

### –†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **Resident** ‚Äî –∂–∏—Ç–µ–ª—å (–¥–æ—Å—Ç—É–ø –∫ –ª–∏—á–Ω–æ–º—É –∫–∞–±–∏–Ω–µ—Ç—É)
- **Operator** ‚Äî –æ–ø–µ—Ä–∞—Ç–æ—Ä –£–ö (–æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞—è–≤–æ–∫, –æ–±—ä—è–≤–ª–µ–Ω–∏—è)
- **Admin** ‚Äî –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä (–ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø)

---

## üèó –î–µ–ø–ª–æ–π

### Backend
```bash
cd Backend/Backend. Api
dotnet publish -c Release -o ./publish
```
–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –ø–∞–ø–∫—É `publish` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —Å . NET Runtime 9.0.

### Frontend
```bash
cd Frontend/client
npm run build
```
–†–∞–∑–¥–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–∞–ø–∫–∏ `dist` —á–µ—Ä–µ–∑ nginx/Apache –∏–ª–∏ CDN.

---

## üë§ –ê–≤—Ç–æ—Ä

**@timofeyelin**

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –≤ —É—á–µ–±–Ω—ã—Ö —Ü–µ–ª—è—Ö. 
